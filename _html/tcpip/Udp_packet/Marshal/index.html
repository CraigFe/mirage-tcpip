<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Marshal (tcpip.Udp_packet.Marshal)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">tcpip</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Udp_packet.Marshal</span></h1></header><div class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>error</code><code><span class="keyword"> = </span>string</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-into_cstruct"><a href="#val-into_cstruct" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>into_cstruct : pseudoheader:Cstruct.t <span class="keyword">&#8209;&gt;</span> payload:Cstruct.t <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> Cstruct.t <span class="keyword">&#8209;&gt;</span> (unit, <a href="index.html#type-error">error</a>) Pervasives.result</code></div><div class="doc"><p><code class="code">into_cstruct ~pseudoheader ~payload t buf</code> attempts to
assemble a UDP header in <code class="code">buf</code> with <code class="code">t.src_port</code> and <code class="code">t.dst_port</code> set,
along with the correct length and checksum.
It does not write <code class="code">pseudoheader</code> or <code class="code">payload</code> into the buffer,
but requires them to calculate the correct checksum.</p></div></div><div class="spec val" id="val-make_cstruct"><a href="#val-make_cstruct" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make_cstruct : pseudoheader:Cstruct.t <span class="keyword">&#8209;&gt;</span> payload:Cstruct.t <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> Cstruct.t</code></div><div class="doc"><p><code class="code">make_cstruct ~pseudoheader ~payload t</code> allocates, fills, and and returns a buffer
representing the UDP header corresponding to <code class="code">t</code>. <code class="code">make_cstruct</code> will
allocate 8 bytes for the UDP header.
<code class="code">payload</code> and <code class="code">pseudoheader</code> are not directly represented in the output,
and are required for correct computation of the UDP checksum only.
The checksum will be properly set to reflect the pseudoheader, header, and payload.</p></div></div></body></html>